<!DOCTYPE html>
<html>
<head><title>Teacher Panel</title></head>
<body>
  <h2>Teacher Dashboard</h2>
  <div id="requests"></div>

  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
  <script src="js/firebase-config.js"></script>
  <script>
    auth.signInWithEmailAndPassword("teacher1@gmail.com", "password123").then(() => {
      console.log("Teacher signed in");

      db.collection('appointments')
        .where('teacherId', '==', auth.currentUser.uid)
        .onSnapshot(snapshot => {
          const container = document.getElementById('requests');
          container.innerHTML = '';
          snapshot.forEach(doc => {
            const data = doc.data();
            container.innerHTML += `
              <p>${data.message} - ${data.status}
                <button onclick="accept('${doc.id}')">Accept</button>
              </p>`;
          });
        });
    });

    function accept(id) {
      db.collection('appointments').doc(id).update({ status: 'accepted' });
    }
  </script>
</body>
</html>

<!-- Inside student.html / teacher.html / admin.html -->
<button onclick="logout()">Logout</button>

<script>
  function logout() {
    firebase.auth().signOut().then(() => {
      window.location.href = 'login.html';
    });
  }
</script>
