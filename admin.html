<!DOCTYPE html>
<html>
<head><title>Admin Panel</title></head>
<body>
  <h2>Admin Dashboard</h2>

  <input id="teacherName" placeholder="Teacher Name">
  <input id="department" placeholder="Department">
  <button onclick="addTeacher()">Add Teacher</button>

  <h3>All Teachers</h3>
  <div id="teacherList"></div>

  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
  <script src="js/firebase-config.js"></script>
  <script>
    // Fake login
    auth.signInWithEmailAndPassword("admin@gmail.com", "admin123").then(() => {
      console.log("Admin signed in");
    });

    function addTeacher() {
      db.collection('users').add({
        name: document.getElementById('teacherName').value,
        department: document.getElementById('department').value,
        role: 'teacher'
      });
    }

    db.collection('users').where('role', '==', 'teacher').onSnapshot(snapshot => {
      const list = document.getElementById('teacherList');
      list.innerHTML = '';
      snapshot.forEach(doc => {
        const data = doc.data();
        list.innerHTML += `<p>${data.name} â€“ ${data.department}</p>`;
      });
    });
  </script>
</body>
</html>

<!-- Inside student.html / teacher.html / admin.html -->
<button onclick="logout()">Logout</button>

<script>
  function logout() {
    firebase.auth().signOut().then(() => {
      window.location.href = 'login.html';
    });
  }
</script>
